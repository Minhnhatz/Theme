/**
 * @name Spotify Midnight
 * @version 1.0.0
 * @description A perfect blend of Midnight Discord and Spotify themes with rounded UI
 * @author Your Name
 * @authorId YOUR_ID
 * @source https://github.com/yourusername/spotify-midnight
 * @invite YOUR_INVITE_CODE
 */

/* ============================================
   BASE IMPORTS
   ============================================ */
@import url('https://refact0r.github.io/midnight-discord/build/midnight.css');
@import url('https://fonts.googleapis.com/css2?family=Figtree:wght@300;400;500;600;700;800;900&display=swap');

/* ============================================
   SPOTIFY COLOR PALETTE
   ============================================ */
:root {
    /* Spotify Green Accent Colors */
    --spotify-green-1: oklch(76% 0.12 145);
    --spotify-green-2: oklch(70% 0.12 145);
    --spotify-green-3: oklch(64% 0.12 145);
    --spotify-green-4: oklch(58% 0.12 145);
    --spotify-green-5: oklch(52% 0.12 145);
    
    /* Additional Spotify Colors */
    --spotify-dark-1: hsl(0, 0%, 6%);
    --spotify-dark-2: hsl(0, 0%, 8%);
    --spotify-dark-3: hsl(0, 0%, 10%);
    --spotify-dark-4: hsl(0, 0%, 12%);
}

body {
    /* Override Midnight colors with Spotify palette */
    --accent-1: var(--spotify-green-1);
    --accent-2: var(--spotify-green-2);
    --accent-3: var(--spotify-green-3);
    --accent-4: var(--spotify-green-4);
    --accent-5: var(--spotify-green-5);
    
    /* Enhanced text colors for better readability */
    --text-0: hsl(0, 0%, 0%);
    --text-1: hsl(0, 0%, 98%);
    --text-2: hsl(141, 10%, 85%);
    --text-3: hsl(0, 0%, 75%);
    --text-4: hsl(0, 0%, 60%);
    --text-5: hsl(0, 0%, 45%);
    
    /* Darker backgrounds for Spotify aesthetic */
    --bg-1: var(--spotify-dark-4);
    --bg-2: var(--spotify-dark-3);
    --bg-3: var(--spotify-dark-2);
    --bg-4: var(--spotify-dark-1);
    
    /* Hover states with Spotify green tint */
    --hover: hsla(141, 73%, 45%, 0.1);
    --active: hsla(141, 73%, 45%, 0.18);
    --active-2: hsla(141, 73%, 45%, 0.25);
    --message-hover: hsla(141, 73%, 45%, 0.05);
    
    /* Status colors */
    --online: var(--spotify-green-2);
    --dnd: var(--red-2);
    --idle: var(--yellow-2);
    --streaming: var(--purple-2);
    --offline: var(--text-5);
    
    /* Mention/Reply with Spotify green tint */
    --mention: linear-gradient(to right, color-mix(in hsl, var(--spotify-green-2), transparent 92%) 40%, transparent);
    --mention-hover: linear-gradient(to right, color-mix(in hsl, var(--spotify-green-2), transparent 88%) 40%, transparent);
    --reply: linear-gradient(to right, color-mix(in hsl, var(--text-3), transparent 92%) 40%, transparent);
    --reply-hover: linear-gradient(to right, color-mix(in hsl, var(--text-3), transparent 88%) 40%, transparent);
}

/* ============================================
   USER PROFILE PANEL - COMPACT & ROUNDED
   ============================================ */
.visual-refresh {
    /* Profile Panel Container - Ultra Compact */
    .panels__58331 .container_ca50b9,
    .panels-3wFtMD .container-YkUktl,
    .panels__5e434 .container_ca50b9 {
        background: linear-gradient(135deg, 
            hsla(141, 73%, 8%, 0.35) 0%, 
            hsla(0, 0%, 6%, 0.55) 100%) !important;
        border-radius: 20px !important;
        padding: 4px 8px !important;
        margin: 4px 6px !important;
        border: 1px solid hsla(141, 73%, 45%, 0.2) !important;
        backdrop-filter: blur(10px) !important;
        min-height: 36px !important;
        max-height: 36px !important;
        height: 36px !important;
        box-shadow: 0 2px 6px hsla(0, 0%, 0%, 0.3) !important;
        display: flex !important;
        align-items: center !important;
        overflow: hidden !important;
    }
    
    .panels__58331 .container_ca50b9:hover,
    .panels-3wFtMD .container-YkUktl:hover,
    .panels__5e434 .container_ca50b9:hover {
        background: linear-gradient(135deg, 
            hsla(141, 73%, 12%, 0.45) 0%, 
            hsla(0, 0%, 8%, 0.65) 100%) !important;
        border-color: hsla(141, 73%, 45%, 0.35) !important;
        box-shadow: 0 4px 12px hsla(141, 73%, 45%, 0.2) !important;
    }
    
    /* Avatar - Perfect Circle with Glow */
    .panels__58331 .avatarWrapper_ba5175,
    .panels-3wFtMD .avatarWrapper-1B9FTW,
    .panels__5e434 .avatarWrapper_ba5175 {
        width: 28px !important;
        height: 28px !important;
        min-width: 28px !important;
        min-height: 28px !important;
        border-radius: 50% !important;
        border: 2px solid hsl(141, 73%, 45%) !important;
        box-shadow: 0 0 8px hsla(141, 73%, 45%, 0.5),
                    inset 0 0 3px hsla(141, 73%, 45%, 0.15) !important;
        flex-shrink: 0 !important;
    }
    
    .panels__58331 .avatar_f8541f,
    .panels-3wFtMD .avatar-1EWyVD,
    .panels__5e434 .avatar_f8541f {
        width: 28px !important;
        height: 28px !important;
        border-radius: 50% !important;
    }
    
    .panels__58331 .avatarWrapper_ba5175:hover,
    .panels-3wFtMD .avatarWrapper-1B9FTW:hover,
    .panels__5e434 .avatarWrapper_ba5175:hover {
        border-color: hsl(141, 73%, 55%) !important;
        box-shadow: 0 0 12px hsla(141, 73%, 45%, 0.7),
                    inset 0 0 5px hsla(141, 73%, 45%, 0.25) !important;
        transform: scale(1.1) !important;
    }
    
    /* Username & Status - Compact with Ellipsis */
    .panels__58331 .nameTag_b33a8b,
    .panels-3wFtMD .nameTag-sc-gpq,
    .panels__5e434 .nameTag_b33a8b {
        max-width: 85px !important;
        min-width: 0 !important;
        margin-left: 6px !important;
        flex: 1 1 auto !important;
        overflow: hidden !important;
    }
    
    .panels__58331 .username_d30d99,
    .panels-3wFtMD .username-3_PJ5R,
    .panels__5e434 .username_d30d99 {
        color: hsl(0, 0%, 98%) !important;
        font-weight: 600 !important;
        font-size: 12px !important;
        line-height: 14px !important;
        text-shadow: 0 1px 3px hsla(0, 0%, 0%, 0.4) !important;
        overflow: hidden !important;
        text-overflow: ellipsis !important;
        white-space: nowrap !important;
    }
    
    .panels__58331 .subtext_abff4e,
    .panels-3wFtMD .subtext-9mV_LN,
    .panels__5e434 .subtext_abff4e {
        color: hsl(141, 73%, 65%) !important;
        font-size: 10px !important;
        line-height: 12px !important;
        font-weight: 500 !important;
        overflow: hidden !important;
        text-overflow: ellipsis !important;
        white-space: nowrap !important;
    }
    
    /* Action Buttons - Rounded Pills */
    .panels__58331 .flex_adcaad,
    .panels-3wFtMD .flex-2S1XBF,
    .panels__5e434 .flex_adcaad {
        gap: 3px !important;
        margin-left: auto !important;
        flex-shrink: 0 !important;
    }
    
    .panels__58331 button,
    .panels-3wFtMD button,
    .panels__5e434 button {
        width: 24px !important;
        height: 24px !important;
        min-width: 24px !important;
        min-height: 24px !important;
        background: hsla(141, 73%, 45%, 0.1) !important;
        border-radius: 50% !important;
        padding: 0 !important;
    }
    
    .panels__58331 button:hover,
    .panels-3wFtMD button:hover,
    .panels__5e434 button:hover {
        background: hsla(141, 73%, 45%, 0.25) !important;
        box-shadow: 0 0 10px hsla(141, 73%, 45%, 0.4) !important;
        transform: scale(1.15) !important;
    }
    
    .panels__58331 button svg,
    .panels-3wFtMD button svg,
    .panels__5e434 button svg {
        width: 14px !important;
        height: 14px !important;
    }
    
    /* ============================================
       PROFILE POPOUT - ROUNDED & GLOWY
       ============================================ */
    
    /* Popout Container */
    .userPopoutOuter_c69a7b,
    .userPopout-2j1gM4 {
        border-radius: 20px !important;
        overflow: hidden !important;
    }
    
    .userPopoutInner_f545a3,
    .userPopoutInner-3wexJx {
        background: linear-gradient(180deg, 
            hsla(141, 73%, 10%, 0.96) 0%, 
            hsla(0, 0%, 5%, 0.98) 100%) !important;
        border: 1px solid hsla(141, 73%, 45%, 0.3) !important;
        border-radius: 20px !important;
        box-shadow: 0 8px 32px hsla(0, 0%, 0%, 0.7),
                    0 0 0 1px hsla(141, 73%, 45%, 0.2) !important;
        backdrop-filter: blur(20px) !important;
    }
    
    /* Banner */
    .bannerSVGWrapper_efac90,
    .banner-1YaD3N {
        border-radius: 20px 20px 0 0 !important;
    }
    
    /* Avatar - Big & Glowy */
    .avatar_f99fc6,
    .avatarWrapper-2yR4wp .avatar-2e8lTP {
        border: 3px solid hsl(141, 73%, 45%) !important;
        border-radius: 50% !important;
        box-shadow: 0 0 24px hsla(141, 73%, 45%, 0.8),
                    0 4px 16px hsla(0, 0%, 0%, 0.6),
                    inset 0 0 12px hsla(141, 73%, 45%, 0.2) !important;
    }
    
    .avatar_f99fc6:hover,
    .avatarWrapper-2yR4wp .avatar-2e8lTP:hover {
        box-shadow: 0 0 32px hsla(141, 73%, 45%, 1),
                    0 4px 20px hsla(0, 0%, 0%, 0.7),
                    inset 0 0 16px hsla(141, 73%, 45%, 0.3) !important;
        transform: scale(1.05) rotate(2deg) !important;
    }
    
    /* Username */
    .nickname_e52120,
    .nickname-3B-Km9 {
        color: hsl(0, 0%, 98%) !important;
        font-weight: 700 !important;
        text-shadow: 0 2px 10px hsla(0, 0%, 0%, 0.7),
                     0 0 20px hsla(141, 73%, 45%, 0.3) !important;
    }
    
    /* About Me Section */
    .section_c2b786,
    .section-3G9aLW {
        background: hsla(141, 73%, 45%, 0.08) !important;
        border-radius: 12px !important;
        border: 1px solid hsla(141, 73%, 45%, 0.2) !important;
    }
    
    /* Roles - Rounded Pills */
    .role_dbf8cf,
    .role-2TIOKu {
        background: hsla(141, 73%, 45%, 0.15) !important;
        border: 1px solid hsla(141, 73%, 45%, 0.3) !important;
        border-radius: 12px !important;
        padding: 4px 10px !important;
    }
    
    .role_dbf8cf:hover,
    .role-2TIOKu:hover {
        background: hsla(141, 73%, 45%, 0.25) !important;
        border-color: hsl(141, 73%, 45%) !important;
        box-shadow: 0 0 12px hsla(141, 73%, 45%, 0.4) !important;
        transform: translateY(-2px) !important;
    }
    
    /* Note Textarea */
    .note_c2b786 textarea,
    .note-3HfJZ5 textarea {
        background: hsla(0, 0%, 0%, 0.4) !important;
        border: 1px solid hsla(141, 73%, 45%, 0.25) !important;
        border-radius: 10px !important;
        color: hsl(0, 0%, 95%) !important;
    }
    
    .note_c2b786 textarea:focus,
    .note-3HfJZ5 textarea:focus {
        border-color: hsl(141, 73%, 45%) !important;
        box-shadow: 0 0 0 2px hsla(141, 73%, 45%, 0.2),
                    0 0 16px hsla(141, 73%, 45%, 0.3) !important;
    }
    
    /* ============================================
       FULL PROFILE MODAL - SPOTIFY STYLE
       ============================================ */
    
    .root_a28985,
    .root-8LYsGj {
        border-radius: 24px !important;
        overflow: hidden !important;
        background: linear-gradient(180deg,
            hsla(141, 73%, 6%, 0.98) 0%,
            hsla(0, 0%, 4%, 0.98) 100%) !important;
        border: 1px solid hsla(141, 73%, 45%, 0.3) !important;
        box-shadow: 0 16px 64px hsla(0, 0%, 0%, 0.8) !important;
    }
    
    /* Profile Modal Banner */
    .banner_d30d99,
    .profileBanner-1owKI5 {
        border-radius: 24px 24px 0 0 !important;
    }
    
    /* Profile Modal Avatar */
    .avatar_d30d99,
    .avatar-2e8lTP {
        border: 4px solid hsl(141, 73%, 45%) !important;
        border-radius: 50% !important;
        box-shadow: 0 0 32px hsla(141, 73%, 45%, 0.9),
                    0 8px 24px hsla(0, 0%, 0%, 0.7),
                    inset 0 0 16px hsla(141, 73%, 45%, 0.2) !important;
    }
    
    /* Activity Cards */
    .activity_c2b786,
    .activity-2EQDZv {
        background: hsla(141, 73%, 8%, 0.5) !important;
        border: 1px solid hsla(141, 73%, 45%, 0.3) !important;
        border-radius: 14px !important;
        box-shadow: 0 4px 12px hsla(141, 73%, 45%, 0.15) !important;
    }
    
    /* Mutual Friends/Servers */
    .listRow_c2b786,
    .listRow-2nO1T6 {
        border-radius: 12px !important;
    }
    
    .listAvatar_c2b786,
    .listAvatar-1NlAhb {
        border-radius: 50% !important;
        border: 2px solid hsl(141, 73%, 45%) !important;
        box-shadow: 0 0 8px hsla(141, 73%, 45%, 0.5) !important;
    }
    
    /* ============================================
       SPOTIFY ENHANCEMENTS
       ============================================ */
    
    /* Smooth Transitions for Everything */
    * {
        transition: background-color 0.2s ease, 
                    border-color 0.2s ease, 
                    box-shadow 0.2s ease,
                    transform 0.2s ease !important;
    }
    
    /* Enhanced Scrollbar with Spotify Green */
    ::-webkit-scrollbar-thumb {
        background: hsla(141, 73%, 45%, 0.4) !important;
        border-radius: 10px;
    }
    
    ::-webkit-scrollbar-thumb:hover {
        background: hsl(141, 73%, 45%) !important;
        box-shadow: 0 0 8px hsla(141, 73%, 45%, 0.5);
    }
    
    /* Status Indicators with Glow */
    [class*="status"] {
        box-shadow: 0 0 8px currentColor !important;
    }
    
    /* Button Glow Effects */
    button:hover {
        box-shadow: 0 4px 12px hsla(141, 73%, 45%, 0.3) !important;
    }
    
    /* Card Hover Effects */
    [class*="card"]:hover {
        box-shadow: 0 8px 24px hsla(0, 0%, 0%, 0.5),
                    0 0 0 1px hsla(141, 73%, 45%, 0.3) !important;
    }
    
    /* Focus States */
    input:focus, textarea:focus {
        border-color: hsl(141, 73%, 45%) !important;
        box-shadow: 0 0 0 2px hsla(141, 73%, 45%, 0.2) !important;
    }
    
    /* Bot Tags with Spotify Color */
    .botTagRegular__82f07 {
        background-color: var(--spotify-green-2) !important;
        color: var(--text-0) !important;
        border-radius: 4px !important;
    }
    
    /* Folder Icons */
    .expandedFolderIconWrapper__48112 > svg {
        color: var(--spotify-green-2) !important;
    }
    
    /* Spotify Activity Integration */
    #vc-spotify-player {
        background: linear-gradient(135deg,
            hsla(141, 73%, 8%, 0.4) 0%,
            hsla(0, 0%, 6%, 0.6) 100%) !important;
        border-radius: 12px !important;
        border: 1px solid hsla(141, 73%, 45%, 0.3) !important;
        box-shadow: 0 4px 16px hsla(141, 73%, 45%, 0.2) !important;
    }
    
    /* Mention Pills */
    .mentioned__5126c:before {
        background-color: var(--spotify-green-2) !important;
    }
    
    /* Unread Badges */
    .numberBadge__2b1f5 {
        background-color: var(--spotify-green-2) !important;
    }
    
    /* Voice Channel Active Indicator */
    .iconBadge__650eb.isCurrentUserConnected__650eb {
        background-color: var(--spotify-green-2) !important;
        color: var(--text-0) !important;
    }
    
    /* Server Selected Pill */
    .pill_e5445c .item__58105 {
        background-color: var(--spotify-green-2) !important;
    }
    
    /* Message Reactions */
    .reaction__23977.reactionMe__23977 {
        background-color: hsla(141, 73%, 45%, 0.2) !important;
        border-color: var(--spotify-green-2) !important;
    }
    
    /* Code Blocks - Rounded */
    .hljs {
        border-radius: 12px !important;
    }
    
    /* Embeds - Rounded with Spotify Accent */
    .embedFull__623de {
        border-radius: 12px !important;
        border-left-color: var(--spotify-green-2) !important;
    }
    
    /* Images - Rounded */
    .imageWrapper_af017a {
        border-radius: 12px !important;
    }
    
    /* Thread Cards - Rounded */
    .container__9271d {
        border-radius: 12px !important;
    }
    
    /* Modals - Rounded */
    .root__49fc1 {
        border-radius: 16px !important;
    }
    
    /* Context Menus - Rounded */
    .menu_c1e9c4 {
        border-radius: 12px !important;
    }
    
    /* Popouts - Rounded */
    .contentWrapper__08434 {
        border-radius: 16px !important;
    }
}

/* ============================================
   FINAL POLISH
   ============================================ */

/* Remove unnecessary animations for better performance */
@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* Print Styles */
@media print {
    .visual-refresh {
        * {
            background: white !important;
            color: black !important;
            box-shadow: none !important;
        }
    }
}
